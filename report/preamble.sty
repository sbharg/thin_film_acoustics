% Required for TeX packages
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{preamble}[custom shortcuts as a package]

% Packages
\RequirePackage[utf8]{inputenc}
%\RequirePackage{lmodern}
\RequirePackage[T1]{fontenc}
\RequirePackage{microtype}
\RequirePackage[english]{babel}
\RequirePackage{csquotes}
\DeclareUnicodeCharacter{2212}{-}
\RequirePackage{comment}
\RequirePackage[page]{appendix}

\RequirePackage{amsmath}
\RequirePackage[amsthm, hyperref, thmmarks]{ntheorem}
\RequirePackage{amssymb}
\RequirePackage{mathtools} 
 
%\RequirePackage{algorithmicx}
\RequirePackage{algorithm}
\RequirePackage[commentColor=blue]{algpseudocodex}

\RequirePackage{tikz}
\RequirePackage{pgfplots} 
\pgfplotsset{compat=1.17}
\usepgfplotslibrary{groupplots}
\usepgfplotslibrary{polar}
\usepgfplotslibrary{smithchart}
\usepgfplotslibrary{statistics}
\usepgfplotslibrary{dateplot}
\usepgfplotslibrary{ternary}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{backgrounds}
\usepgfplotslibrary{patchplots}
\usepgfplotslibrary{fillbetween}
\pgfplotsset{%
layers/standard/.define layer set={%
    background,axis background,axis grid,axis ticks,axis lines,axis tick labels,pre main,main,axis descriptions,axis foreground%
}{grid style= {/pgfplots/on layer=axis grid},%
    tick style= {/pgfplots/on layer=axis ticks},%
    axis line style= {/pgfplots/on layer=axis lines},%
    label style= {/pgfplots/on layer=axis descriptions},%
    legend style= {/pgfplots/on layer=axis descriptions},%
    title style= {/pgfplots/on layer=axis descriptions},%
    colorbar style= {/pgfplots/on layer=axis descriptions},%
    ticklabel style= {/pgfplots/on layer=axis tick labels},%
    axis background@ style={/pgfplots/on layer=axis background},%
    3d box foreground style={/pgfplots/on layer=axis foreground},%
    },
}

\RequirePackage{graphicx}
%\RequirePackage{caption}
\RequirePackage{subcaption}

\RequirePackage{booktabs}
\RequirePackage{xspace}

\RequirePackage[margin=1in]{geometry}

%\RequirePackage{minitoc}
\RequirePackage[linkcolor=blue,citecolor=blue,colorlinks=true,urlcolor=black]{hyperref}
\RequirePackage[nameinlink,capitalize]{cleveref}

\RequirePackage[
  backend      = biber,
  doi          = false,
  giveninits   = true,
  maxcitenames = 1,
  maxbibnames  = 10,
  isbn         = false,
  url          = false,
  style        = alphabetic, 
  natbib       = true
]{biblatex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Custom commands -- math symbols and math shortcuts
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Shortcuts for left/right parentheses, square brackets, and curly braces
\newcommand{\lrp}[1]{\left( #1 \right)}
\newcommand{\lrb}[1]{\left[ #1 \right]}
\newcommand{\lrc}[1]{\left\{ #1 \right\}}
\newcommand{\lrv}[1]{\left\langle #1 \right\rangle}
\newcommand{\abs}[1]{\left\lvert #1 \right\rvert}
\newcommand{\norm}[1]{\left\lVert #1 \right\rVert}

% Commonly-used sets
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\RR}{\ensuremath{\mathbb{R}}}
\newcommand{\Q}{\ensuremath{\mathbb{Q}}}
\newcommand{\C}{\ensuremath{\mathbb{C}}}

% Complexity
\newcommand{\grad}{\ensuremath{\nabla}}

\newcommand{\bigo}[1]{\ensuremath{\operatorname{\mathcal{O}}\!\left(#1\right)}}
\newcommand{\bigomega}[1]{\ensuremath{\Omega\!\left(#1\right)}}

% Powerset 
\newcommand{\powerset}{\ensuremath{\mathcal{P}}}

% Vectors
\newcommand{\vect}[1]{\ensuremath{\boldsymbol{#1}}}

% Misc
\newcommand{\deriv}[2]{\ensuremath{\frac{d #1}{d #2}}}
\newcommand{\pderiv}[2]{\ensuremath{\frac{\partial #1}{\partial #2}}}
\newcommand{\pderivtwo}[2]{\ensuremath{\frac{\partial^2 #1}{\partial #2^2}}}
\newcommand{\func}[2]{\ensuremath{#1\!\lrp{#2}}}
\renewcommand{\bar}[1]{\overline{#1}}

\NewDocumentCommand{\evalat}{sO{\big}mm}{%
  \IfBooleanTF{#1}
   {\mleft. #3 \mright|_{#4}}
   {#3#2|_{#4}}%
}
 
 
\crefname{theorem}{Thm.}{Thms.}
\crefname{corollary}{Cor.}{Cors.}
\crefname{lemma}{Lem.}{Lems.}
\crefname{problem}{Prob.}{Probs.}
 

\newcommand{\cexpz}{\ensuremath{e^{2k_i \lrp{x + \alpha_1 z}}}}
\newcommand{\cexpp}{\ensuremath{e^{2k_i \lrp{x + \alpha_1 \phi}}}}
\newcommand{\vecu}{\vect{u}}